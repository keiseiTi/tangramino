# Tangramino

[English](./README.md) | ç®€ä½“ä¸­æ–‡

<p align="center">
  <strong>çµæ´»çš„ Schema é©±åŠ¨ä½ä»£ç æ¡†æ¶ï¼Œç”¨äºæ„å»ºå¯è§†åŒ–ç¼–è¾‘å™¨å’Œå·¥ä½œæµè®¾è®¡å™¨ã€‚</strong>
</p>

Tangramino ä¸ºæ„å»ºä½ä»£ç å¹³å°æä¾›äº†å®Œæ•´çš„è§£å†³æ–¹æ¡ˆï¼Œä» Schema ç®¡ç†åˆ°å¯è§†åŒ–ç¼–è¾‘ã€‚å‡­å€Ÿå…¶æ¡†æ¶æ— å…³çš„å¼•æ“å’Œæ¨¡å—åŒ–æ¶æ„ï¼Œæ‚¨å¯ä»¥è½»æ¾æ„å»ºæ‹–æ‹½é¡µé¢æ­å»ºå™¨ã€æµç¨‹è®¾è®¡å™¨å’Œå®šåˆ¶åŒ–ä½ä»£ç å·¥å…·ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ¯ **Schema é©±åŠ¨**ï¼šåŸºäº JSONSchema çš„æ¶æ„ï¼Œç”¨äºå®šä¹‰ UI ç»“æ„ã€è¡Œä¸ºå’Œæ•°æ®æµ
- ğŸ”Œ **æ¡†æ¶æ— å…³**ï¼šæ ¸å¿ƒå¼•æ“ä¸ UI æ¡†æ¶æ— å…³ï¼Œå®˜æ–¹æä¾› React ç»‘å®š
- ğŸ¨ **å¯è§†åŒ–ç¼–è¾‘**ï¼šç”Ÿäº§çº§æ‹–æ‹½ç¼–è¾‘å™¨å’Œæµç¨‹å›¾è®¾è®¡å™¨
- ğŸ”§ **æ’ä»¶ç³»ç»Ÿ**ï¼šå¯æ‰©å±•çš„æ¶æ„ï¼Œæ”¯æŒè‡ªå®šä¹‰æ’ä»¶å’Œç»„ä»¶
- ğŸ“¦ **æ¨¡å—åŒ–**ï¼šå¯ç»„åˆçš„åŒ… - å•ç‹¬ä½¿ç”¨å¼•æ“æˆ–æ„å»ºå®Œæ•´çš„ç¼–è¾‘ä½“éªŒ
- ğŸ›¡ï¸ **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„ TypeScript æ”¯æŒå’Œç±»å‹å®šä¹‰

## ğŸ“¦ æ ¸å¿ƒåŒ…

| åŒ…å | æè¿° | ç‰ˆæœ¬ |
| --- | --- | --- |
| **[`@tangramino/engine`](./packages/engine)** | æ¡†æ¶æ— å…³çš„æ ¸å¿ƒå¼•æ“ï¼Œè´Ÿè´£ Schema ç®¡ç†ã€äº‹ä»¶å¤„ç†å’Œæ•°æ®æ“ä½œ | [![npm](https://img.shields.io/npm/v/@tangramino/engine)](https://www.npmjs.com/package/@tangramino/engine) |
| **[`@tangramino/react`](./packages/react)** | å¼•æ“çš„ React ç»‘å®šï¼Œæä¾› hooksã€HOC å’Œè§†å›¾æ¸²æŸ“èƒ½åŠ› | [![npm](https://img.shields.io/npm/v/@tangramino/react)](https://www.npmjs.com/package/@tangramino/react) |
| **[`@tangramino/base-editor`](./packages/base-editor)** | å¯è§†åŒ–æ‹–æ‹½ç¼–è¾‘å™¨ï¼ŒåŒ…å«ç‰©æ–™ç³»ç»Ÿã€ç”»å¸ƒç®¡ç†å’Œ dnd-kit é›†æˆ | [![npm](https://img.shields.io/npm/v/@tangramino/base-editor)](https://www.npmjs.com/package/@tangramino/base-editor) |
| **[`@tangramino/flow-editor`](./packages/flow-editor)** | ä¸“ä¸šçš„æµç¨‹å›¾ç¼–è¾‘å™¨ï¼Œç”¨äºå·¥ä½œæµè®¾è®¡å’Œé€»è¾‘ç¼–æ’ | [![npm](https://img.shields.io/npm/v/@tangramino/flow-editor)](https://www.npmjs.com/package/@tangramino/flow-editor) |

## ğŸ—ï¸ æ¶æ„

Tangramino é‡‡ç”¨æ¸…æ™°çš„åˆ†å±‚æ¶æ„ï¼Œä¿ƒè¿›å…³æ³¨ç‚¹åˆ†ç¦»ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¼–è¾‘å™¨å±‚ (@tangramino/base-editor, flow-editor)       â”‚
â”‚  - æ‹–æ‹½ UI                                               â”‚
â”‚  - ç‰©æ–™ç®¡ç†                                              â”‚
â”‚  - ç”»å¸ƒä¸é€‰æ‹©                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         è§†å›¾å±‚ (@tangramino/react)                       â”‚
â”‚  - React ç»„ä»¶æ ‘æ¸²æŸ“                                      â”‚
â”‚  - Hooks ä¸ HOC                                          â”‚
â”‚  - äº‹ä»¶ç›‘å¬                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         å¼•æ“å±‚ (@tangramino/engine)                      â”‚
â”‚  - JSONSchema ç®¡ç†                                       â”‚
â”‚  - å…ƒç´  CRUD æ“ä½œ                                        â”‚
â”‚  - äº‹ä»¶ç³»ç»Ÿ                                              â”‚
â”‚  - æ¡†æ¶æ— å…³                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å±‚æ¬¡è¯´æ˜ï¼š**

1. **å¼•æ“å±‚** (`@tangramino/engine`)ï¼šç®¡ç† JSONSchemaï¼Œå¤„ç†äº‹ä»¶ï¼Œæä¾›æ•°æ®æ“ä½œ APIã€‚å®Œå…¨ä¸ UI æ— å…³ã€‚
2. **è§†å›¾å±‚** (`@tangramino/react`)ï¼šå°†å¼•æ“ç»‘å®šåˆ° Reactï¼Œç›‘å¬å¼•æ“äº‹ä»¶ï¼ŒåŸºäº Schema æ¸²æŸ“ç»„ä»¶æ ‘ã€‚
3. **ç¼–è¾‘å™¨å±‚** (`@tangramino/base-editor`, `@tangramino/flow-editor`)ï¼šæä¾›å®Œæ•´çš„ç¼–è¾‘ä½“éªŒï¼ŒåŒ…æ‹¬æ‹–æ‹½ã€é€‰æ‹©ã€å±æ€§é¢æ¿ç­‰ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16
- åŒ…ç®¡ç†å™¨ï¼šnpmã€yarn æˆ– pnpm

### å®‰è£…

æ ¹æ®æ‚¨çš„ä½¿ç”¨åœºæ™¯é€‰æ‹©åŒ…ï¼š

**æ„å»ºæ‹–æ‹½é¡µé¢ç¼–è¾‘å™¨ï¼š**

```bash
npm install @tangramino/base-editor
```

**æ„å»ºå·¥ä½œæµ/æµç¨‹ç¼–è¾‘å™¨ï¼š**

```bash
npm install @tangramino/flow-editor
```

**è‡ªå®šä¹‰å®ç°ï¼ˆå¼•æ“ + è§†å›¾å±‚ï¼‰ï¼š**

```bash
# Schema å¼•æ“ï¼ˆæ¡†æ¶æ— å…³ï¼‰
npm install @tangramino/engine

# React è§†å›¾ç»‘å®š
npm install @tangramino/react
```

### åŸºç¡€æ‹–æ‹½ç¼–è¾‘å™¨

ä¸åˆ° 30 è¡Œä»£ç åˆ›å»ºä¸€ä¸ªæœ€å°åŒ–çš„ä½ä»£ç ç¼–è¾‘å™¨ï¼š

```tsx
import React from 'react';
import { EditorProvider, CanvasEditor } from '@tangramino/base-editor';
import '@tangramino/base-editor/style';

// å®šä¹‰ç»„ä»¶ç‰©æ–™
const materials = [
  {
    type: 'button',
    title: 'æŒ‰é’®',
    Component: ({ children, ...props }) => <button {...props}>{children}</button>,
    props: { children: 'ç‚¹å‡»æˆ‘' }
  },
  {
    type: 'text',
    title: 'æ–‡æœ¬',
    Component: ({ content }) => <p>{content}</p>,
    props: { content: 'Hello World' }
  }
];

function App() {
  return (
    <EditorProvider materials={materials}>
      <div style={{ height: '100vh' }}>
        <CanvasEditor />
      </div>
    </EditorProvider>
  );
}

export default App;
```

### çº¯æ¸²æŸ“æ¨¡å¼

ä½¿ç”¨ `@tangramino/react` æ¸²æŸ“ Schemaï¼Œæ— éœ€ç¼–è¾‘åŠŸèƒ½ï¼š

```tsx
import React from 'react';
import { View } from '@tangramino/react';
import { createEngine } from '@tangramino/engine';

const schema = {
  elements: {
    'btn-1': { 
      id: 'btn-1', 
      type: 'button', 
      props: { children: 'ç‚¹å‡»æˆ‘' } 
    }
  },
  layout: {
    root: 'root',
    structure: { root: ['btn-1'] }
  }
};

const materials = [
  { type: 'button', Component: (props) => <button {...props} /> }
];

function App() {
  const engine = React.useMemo(() => createEngine(schema), []);
  return <View engine={engine} components={{ button: materials[0].Component }} />;
}
```

## ğŸ’¡ ç¤ºä¾‹ä¸æ¼”ç¤º

### å…¨åŠŸèƒ½ä½ä»£ç ç¼–è¾‘å™¨

æŸ¥çœ‹ [`playground/antd-demo`](./playground/antd-demo) ä¸­çš„ç”Ÿäº§çº§æ¼”ç¤ºï¼š

**åŠŸèƒ½äº®ç‚¹ï¼š**
- ğŸ¨ **ç‰©æ–™é¢æ¿**ï¼šæ‹–æ‹½ç»„ä»¶åº“ï¼ŒåŒ…å« 25+ Ant Design ç»„ä»¶
- ğŸ–¼ï¸ **å¯è§†åŒ–ç”»å¸ƒ**ï¼šå®æ—¶ç¼–è¾‘ï¼Œæ”¯æŒå…ƒç´ é€‰æ‹©å’Œå®šä½
- âš™ï¸ **å±æ€§é¢æ¿**ï¼šé€‰ä¸­å…ƒç´ çš„åŠ¨æ€å±æ€§é…ç½®
- ğŸ”„ **å†å²è®°å½•**ï¼šå®Œæ•´çš„æ’¤é”€/é‡åšæ”¯æŒ
- ğŸ’¾ **æŒä¹…åŒ–**ï¼šSchema å¯¼å…¥/å¯¼å‡ºï¼ˆJSONï¼‰
- ğŸ“± **é¢„è§ˆ**ï¼šå¤šè®¾å¤‡è§†å£æ¨¡æ‹Ÿ
- ğŸ§© **é€»è¾‘è®¾è®¡å™¨**ï¼šå¯è§†åŒ–å·¥ä½œæµç¼–è¾‘å™¨ï¼Œç”¨äºå¤æ‚äº¤äº’

**æœ¬åœ°è¿è¡Œï¼š**

```bash
git clone https://github.com/keiseiTi/tangramino.git
cd tangramino
pnpm install
pnpm dev:antd  # æ‰“å¼€ http://localhost:5173
```

### æµç¨‹ç¼–è¾‘å™¨

```tsx
import { FlowEditor, EditorRenderer } from '@tangramino/flow-editor';
import '@tangramino/flow-editor/index.css';

const flowNodes = [
  {
    type: 'start',
    title: 'å¼€å§‹èŠ‚ç‚¹',
    nodeMeta: {
      isStart: true,
      defaultPorts: [{ type: 'output' }]
    },
    renderNode: ({ data }) => <div className="node-start">{data.title}</div>
  }
];

function FlowApp() {
  const [flowData, setFlowData] = React.useState({ nodes: [], edges: [] });

  return (
    <FlowEditor 
      nodes={flowNodes} 
      value={flowData} 
      onChange={setFlowData}
    >
      <div style={{ height: '100vh' }}>
        <EditorRenderer />
      </div>
    </FlowEditor>
  );
}
```

## ğŸ“– æ–‡æ¡£

è¯¦å°½çš„æŒ‡å—å’Œ API å‚è€ƒæ–‡æ¡£è¯·è®¿é—® [keiseiti.github.io/tangramino](https://keiseiti.github.io/tangramino/)

**å¿…è¯»æ–‡æ¡£ï¼š**
- **[å¿«é€Ÿå¼€å§‹](https://keiseiti.github.io/tangramino/guide/start/introduce.html)** - å®‰è£…å’Œç¬¬ä¸€æ­¥
- **[Schema æ¦‚å¿µ](https://keiseiti.github.io/tangramino/guide/concept/schema.html)** - ç†è§£æ•°æ®ç»“æ„
- **[è‡ªå®šä¹‰ç¼–è¾‘å™¨](https://keiseiti.github.io/tangramino/guide/advanced/custom-editor.html)** - æ„å»ºå®šåˆ¶åŒ–ç¼–è¾‘ä½“éªŒ
- **[æ’ä»¶å¼€å‘](https://keiseiti.github.io/tangramino/guide/plugin.html)** - æ‰©å±•åŠŸèƒ½

## ğŸ¯ åº”ç”¨åœºæ™¯

- **ä½ä»£ç å¹³å°**ï¼šæ„å»ºæ‹–æ‹½å¼é¡µé¢æ„å»ºå™¨
- **è¡¨å•æ„å»ºå™¨**ï¼šåˆ›å»ºåŠ¨æ€è¡¨å•è®¾è®¡å™¨
- **å·¥ä½œæµå¼•æ“**ï¼šè®¾è®¡å¯è§†åŒ–å·¥ä½œæµå’Œè‡ªåŠ¨åŒ–å·¥å…·
- **ä»ªè¡¨ç›˜æ„å»ºå™¨**ï¼šæ„å»ºå¯è‡ªå®šä¹‰çš„ä»ªè¡¨ç›˜åˆ›å»ºå™¨
- **ç§»åŠ¨åº”ç”¨æ„å»ºå™¨**ï¼šåˆ›å»ºç§»åŠ¨ç«¯ UI è®¾è®¡å™¨

## ğŸ› ï¸ å¼€å‘

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/keiseiTi/tangramino.git
cd tangramino

# å®‰è£…ä¾èµ–
pnpm install

# å¼€å‘æ¨¡å¼ä¸‹ç›‘å¬æ‰€æœ‰åŒ…
pnpm watch

# è¿è¡Œç¤ºä¾‹
pnpm dev:antd

# æ„å»ºæ‰€æœ‰åŒ…
pnpm build

# è¿è¡Œæ–‡æ¡£ç«™ç‚¹
pnpm site
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ¥è‡ªç¤¾åŒºçš„è´¡çŒ®ï¼æ— è®ºæ˜¯ï¼š

- ğŸ› é”™è¯¯æŠ¥å‘Š
- ğŸ’¡ åŠŸèƒ½è¯·æ±‚
- ğŸ“ æ–‡æ¡£æ”¹è¿›
- ğŸ”§ ä»£ç è´¡çŒ®

è¯¦æƒ…è¯·å‚é˜…æˆ‘ä»¬çš„ [è´¡çŒ®æŒ‡å—](./site/docs/contribution.md)ï¼Œäº†è§£ï¼š

- å¦‚ä½•æ­å»ºå¼€å‘ç¯å¢ƒ
- ä»£ç é£æ ¼å’Œçº¦å®š
- å¦‚ä½•æäº¤ Pull Request
- å¦‚ä½•è¿è¡Œæµ‹è¯•

## ğŸ“„ å¼€æºåè®®

[MIT](LICENSE) Â© Tangramino

---

Made with â¤ï¸ by the Tangramino team
